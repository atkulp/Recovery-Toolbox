<html>

<head>
   <!-- Google tag (gtag.js) -->
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZHN5KEHNB7"></script>
   <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());

      gtag('config', 'G-ZHN5KEHNB7');
   </script>

<link rel="stylesheet" href="style.css" />
<link rel="stylesheet" href="darkmode.css" />
<title>Personal Values Card Sort</title>
</head>

<body>
   <header class="no-print">
      <h1>Personal Values Card Sort (printable)
         <div class="no-print">
            <input type="checkbox" class="sr-only" id="darkmode-toggle" onchange="toggleDarkMode(event)">
            <label for="darkmode-toggle" class="toggle">
               <span>Toggle dark mode</span>
            </label>
         </div>
      </h1>
      <p>
         This is a printable version of the Personal Values Card Sort exercise.
         Cards will layout automatically for your printer.
      </p>

      <small>For more details, see our <a href="help.html" target="_blank">help</a> page.</small>

      <p>
         <input type="button" value="Print" onclick="printCards()" />
         <input type="button" value="Print (smaller cards)" onclick="printCards('md')" />
      </p>
   </header>

   <article class="main">
      <div class="printable printable-md">
      </div>
   </article>

   <footer>
      <cite>Adapted from W.R. Miller, J.C'de Baca, D.B. Matthews, P.L. Wilbourne, University of New Mexico 2001,
         <a href="https://motivationalinterviewing.org/personal-values-card-sort">details</a>
      </cite>
   </footer>

   <script src="printable.js"></script>

   <script>
      function printCards(size = "lg") {
         const printable = document.querySelector(".printable");
         printable.className = `printable printable-${size}`;
         window.print();
         printable.className = "printable";
      }

    function toggleDarkMode(evt) {
        console.info(`Dark mode preference changed to: ${evt.target.checked}`);
        window.localStorage.setItem("prefers-dark", evt.target.checked);
    }

    // Initialize dark mode based on user preference
    let lsPrefersDark = window.localStorage.getItem("prefers-dark");
    document.getElementById("darkmode-toggle").checked = "true";
    if (lsPrefersDark !== null) {
        document.getElementById("darkmode-toggle").checked = lsPrefersDark == "true";
    } else {
        document.getElementById("darkmode-toggle").checked = "true"; window.matchMedia("(prefers-color-scheme: dark)").matches;
    }

    displayCards(visible = 0, document.querySelector(".printable"));

   </script>
</body>

</html>